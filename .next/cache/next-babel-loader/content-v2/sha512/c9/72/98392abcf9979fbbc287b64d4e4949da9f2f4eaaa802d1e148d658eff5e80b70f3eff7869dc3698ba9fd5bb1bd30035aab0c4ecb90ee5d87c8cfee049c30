{"ast":null,"code":"import { insertOne } from '../../shared/util/db'; // /api/new-meetup\n\nasync function handler(req, res) {\n  const requests = {\n    POST: async () => {\n      const data = req.body;\n      const {\n        title,\n        image,\n        address,\n        description\n      } = data;\n      await insertOne('meetups', {\n        title,\n        image,\n        address,\n        description\n      });\n      res.status(201).json({\n        message: 'Meetup inserted'\n      });\n    }\n  };\n  const callback = requests[req.method] || null;\n\n  if (!callback) {\n    return res.status(400).json({\n      error: 'Method not allowed for this endpoint'\n    });\n  }\n\n  return requests[req.method]();\n}\n\nexport default handler;","map":{"version":3,"sources":["/Users/allan.carvalho/workspace/courses/react/complete-guide/section-23_next-js/nextjs-project/pages/api/new-meetup.js"],"names":["insertOne","handler","req","res","requests","POST","data","body","title","image","address","description","status","json","message","callback","method","error"],"mappings":"AAAA,SAASA,SAAT,QAA0B,sBAA1B,C,CAEA;;AAEA,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAC7B,QAAMC,QAAQ,GAAG;AACbC,IAAAA,IAAI,EAAE,YAAY;AACd,YAAMC,IAAI,GAAGJ,GAAG,CAACK,IAAjB;AAEA,YAAM;AAAEC,QAAAA,KAAF;AAASC,QAAAA,KAAT;AAAgBC,QAAAA,OAAhB;AAAyBC,QAAAA;AAAzB,UAAyCL,IAA/C;AAEA,YAAMN,SAAS,CAAC,SAAD,EAAY;AAAEQ,QAAAA,KAAF;AAASC,QAAAA,KAAT;AAAgBC,QAAAA,OAAhB;AAAyBC,QAAAA;AAAzB,OAAZ,CAAf;AAEAR,MAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAArB;AACH;AATY,GAAjB;AAaA,QAAMC,QAAQ,GAAGX,QAAQ,CAACF,GAAG,CAACc,MAAL,CAAR,IAAwB,IAAzC;;AAEA,MAAI,CAACD,QAAL,EAAe;AACX,WAAOZ,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEI,MAAAA,KAAK,EAAE;AAAT,KAArB,CAAP;AACH;;AAED,SAAOb,QAAQ,CAACF,GAAG,CAACc,MAAL,CAAR,EAAP;AACH;;AAED,eAAef,OAAf","sourcesContent":["import { insertOne } from '../../shared/util/db';\n\n// /api/new-meetup\n\nasync function handler(req, res) {\n    const requests = {\n        POST: async () => {\n            const data = req.body;\n\n            const { title, image, address, description } = data;\n\n            await insertOne('meetups', { title, image, address, description });\n\n            res.status(201).json({ message: 'Meetup inserted' });\n        }\n\n    }\n\n    const callback = requests[req.method] || null;\n\n    if (!callback) {\n        return res.status(400).json({ error: 'Method not allowed for this endpoint' });\n    }\n\n    return requests[req.method]();\n}\n\nexport default handler;"]},"metadata":{},"sourceType":"module"}