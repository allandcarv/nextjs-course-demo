{"ast":null,"code":"import { MongoClient } from 'mongodb'; // /api/new-meetup\n\nasync function handler(req, res) {\n  const requests = {\n    POST: async () => {\n      const data = req.body;\n      const {\n        title,\n        image,\n        address,\n        description\n      } = data;\n      const client = MongoClient.connect('mongodb+srv://react-course:react-course-password@cluster0.7s65w.mongodb.net/meetups?retryWrites=true&w=majority');\n      const db = client.db();\n      const meetupsCollection = db.collection('meetups');\n      const result = await meetupsCollection.insertOne({\n        title,\n        image,\n        address,\n        description\n      });\n      console.log('result', result);\n      client.close();\n      res.status(201).json({\n        message: 'Meetup inserted'\n      });\n    }\n  };\n  requests[req.method]();\n}\n\nexport default handler;","map":{"version":3,"sources":["/Users/allan.carvalho/workspace/courses/react/complete-guide/section-23_next-js/nextjs-project/pages/api/new-meetup.js"],"names":["MongoClient","handler","req","res","requests","POST","data","body","title","image","address","description","client","connect","db","meetupsCollection","collection","result","insertOne","console","log","close","status","json","message","method"],"mappings":"AAAA,SAASA,WAAT,QAA4B,SAA5B,C,CAEA;;AAEA,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAC7B,QAAMC,QAAQ,GAAG;AACbC,IAAAA,IAAI,EAAE,YAAY;AACd,YAAMC,IAAI,GAAGJ,GAAG,CAACK,IAAjB;AAEA,YAAM;AAAEC,QAAAA,KAAF;AAASC,QAAAA,KAAT;AAAgBC,QAAAA,OAAhB;AAAyBC,QAAAA;AAAzB,UAAyCL,IAA/C;AAEA,YAAMM,MAAM,GAAGZ,WAAW,CAACa,OAAZ,CAAoB,iHAApB,CAAf;AAEA,YAAMC,EAAE,GAAGF,MAAM,CAACE,EAAP,EAAX;AAEA,YAAMC,iBAAiB,GAAGD,EAAE,CAACE,UAAH,CAAc,SAAd,CAA1B;AAEA,YAAMC,MAAM,GAAG,MAAMF,iBAAiB,CAACG,SAAlB,CAA4B;AAAEV,QAAAA,KAAF;AAASC,QAAAA,KAAT;AAAgBC,QAAAA,OAAhB;AAAyBC,QAAAA;AAAzB,OAA5B,CAArB;AAEAQ,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBH,MAAtB;AAEAL,MAAAA,MAAM,CAACS,KAAP;AAEAlB,MAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAArB;AACH;AAnBY,GAAjB;AAuBApB,EAAAA,QAAQ,CAACF,GAAG,CAACuB,MAAL,CAAR;AACH;;AAED,eAAexB,OAAf","sourcesContent":["import { MongoClient } from 'mongodb';\n\n// /api/new-meetup\n\nasync function handler(req, res) {\n    const requests = {\n        POST: async () => {\n            const data = req.body;\n\n            const { title, image, address, description } = data;\n\n            const client = MongoClient.connect('mongodb+srv://react-course:react-course-password@cluster0.7s65w.mongodb.net/meetups?retryWrites=true&w=majority')\n\n            const db = client.db();\n\n            const meetupsCollection = db.collection('meetups');\n\n            const result = await meetupsCollection.insertOne({ title, image, address, description });\n\n            console.log('result', result);\n\n            client.close();\n\n            res.status(201).json({ message: 'Meetup inserted' });\n        }\n        \n    }\n\n    requests[req.method]();\n}\n\nexport default handler;"]},"metadata":{},"sourceType":"module"}